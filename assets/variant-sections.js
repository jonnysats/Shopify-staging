!function(){"use strict";var t={4349:function(){window.bluedgeusa.theme.VariantSections=class{constructor(t,i,n){if(this._container=t,this._type=i,this._id=n,this._selectors={loadingClass:"loading-state",productWrapper:'[data-section-type="productPerSqFt"], [data-section-type="product"]',dataSectionType:'[data-section-type="dynamicVariantSectionContent"]'},this._productHandle=this._container?.dataset?.productHandle,this._eventName="VariantSections::content:loaded",!this._productHandle)throw new Error(`VariantSections::constructor:Missing product handle: ${this._productHandle}`);if(!window?.bluedgeusa?.theme?.domain)throw new Error(`VariantSections::constructor:Missing shopify domain: ${window?.bluedgeusa?.theme?.domain}`);this._baseUrl=`${window.location.origin}/products/${this._productHandle}`,this.e_init=this.init.bind(this),this.e_fetchNewSection=this._fetchNewSection.bind(this),this.e_init()}init(){if(this.productWrapper=document.querySelector(this._selectors.productWrapper),this._removeLoadingClass(),!this.productWrapper)throw new Error(`VariantSections::_init:Missing product section: ${this.productWrapper}`);this.productWrapper.removeEventListener("variantChange",this.e_fetchNewSection),this.productWrapper.addEventListener("variantChange",this.e_fetchNewSection)}_fetchNewSection(t){if(!t?.detail?.variant)throw new Error(`VariantSections::_fetchNewSection:Missing variant: ${t?.detail?.variant}`);const i=this._buildVariantBasedUrl(t.detail.variant.id);this._addLoadingClass();const n={method:"GET",url:i,contentType:"text/html"};window.bluedgeusa.core.Connect.fetch(n,null,this._fetchSuccess.bind(this),this._fetchError.bind(this),()=>this._removeLoadingClass())}_fetchError(t){throw new Error(`VariantSections::_fetchError: ${t??t?.msg}`)}_fetchSuccess(t){if(!t)throw new Error("Section API response not found");let i=(new DOMParser).parseFromString(t,"text/html").querySelector("section");if(!i)throw new Error("Section not found");if(0===i.querySelector(this._selectors.dataSectionType).children.length)return!1;const n=this._container.parentElement;n.innerHTML="",n.innerHTML=i.innerHTML,this._reAttachEvents(n)}_reAttachEvents(t){if(!t)throw new Error("Missing new section");this._container=t.querySelector(`[data-section-id="${this._id}"]`),window.bluedgeusa.theme.scrollAnimations(),this.callAfterDOMLayout(()=>{const t={detail:{container:this._container,sectionId:this._id}};document.dispatchEvent(new CustomEvent(this._eventName,t))}),this.e_init(),window.lazyLoadInstance.update()}callAfterDOMLayout(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}_buildVariantBasedUrl(t){if(!t)throw new Error(`VariantSections::_buildVariantBaseUrl:Missing variant id: ${t}`);return`${this._baseUrl}?variant=${t}&section_id=${this._id.replace("dynamicContent-","")}`}_removeLoadingClass(){this._container.classList.remove(this._selectors.loadingClass)}_addLoadingClass(){this._container.classList.add(this._selectors.loadingClass)}onLoad(t){return t}onUnload(t){return this.productWrapper.removeEventListener("variantChange",this.e_fetchNewSection),t}}}},i={};function n(r){var s=i[r];if(void 0!==s)return s.exports;var o=i[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,{a:i}),i},n.d=function(t,i){for(var r in i)n.o(i,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)};n(4349);window.bluedgeusa.sections.register("dynamicVariantSectionContent",window.bluedgeusa.theme.VariantSections)}();