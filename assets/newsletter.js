!function(){var t={4923:function(){window.bluedgeusa.theme.KlaviyoSubscribe=class{constructor(t,i=null){if(!t)throw new TypeError("KlaviyoSubscribe: Missing Form");this._selectors={listId:"data-klaviyo-list-id",event:"data-needs-validation"},this.form=t,this.callback=i,this.publicKey=window.bluedgeusa.theme.newsletterApiKey,this.url=`https://a.klaviyo.com/client/subscriptions?company_id=${this.publicKey}`,this.listId=this.form.getAttribute(this._selectors.listId),this.eventType=this.form.getAttribute(this._selectors.event),this.injectedData=null,this.publicKey,"event"===this.eventType?this.form.addEventListener("utils::formValidation",t=>{!0===t.detail?.validity&&this.submitForm()}):this.form.addEventListener("submit",()=>this.submitForm())}submitForm(){if(!this.listId)return!1;let t=this.getFormData();if(this.isBot(t))return this.callback&&this.callback("No Bot!",null);t.delete("bots");const i={url:this.url,method:"POST",contentType:"application/json",cacheControl:"no-cache",headers:{revision:"2024-02-15"}};t.append("g",this.listId),t.append("$fields",this.buildFieldsValues(t)),t=this.mergeInjectedData(t);const s=this.getFormattedJavascriptObject(t);if(!s)return!1;window.bluedgeusa.core.Connect.fetch(i,s,t=>{try{if(t){let i;if(i="string"==typeof t||t instanceof String?JSON.parse(t):t,i.errors.length){const t=i.errors.map(t=>t?.detail??t).join(" | ");this.callback&&this.callback(t,null)}else this.callback&&this.callback(null,i)}else this.callback&&this.callback(null,t)}catch(t){}},t=>this.callback&&this.callback(t,null))}buildFieldsValues(t){let i=[];for(const s of t.keys())"email"===s||"g"===s||i.includes(s)||i.push(s);return i.join(",")}getFormData(){return new FormData(this.form)}getFormattedJavascriptObject(t){return t.get("email")?{data:{type:"subscription",attributes:{custom_source:t.get("$source")??"Sign Up Form",profile:{data:{type:"profile",attributes:{email:t.get("email")}}}},relationships:{list:{data:{type:"list",id:this.listId}}}}}:null}injectData(t){t&&"object"==typeof t&&(this.injectedData=t)}mergeInjectedData(t){if(!this.injectedData)return t;for(const i in this.injectedData)t.append(i,this.injectedData[i]);return t}isBot(t){return t.has("bots")&&t.get("bots")}}}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,s),o.exports}!function(){"use strict";s(4923);window.bluedgeusa.theme.Newsletter=class{constructor(t,i,s){this._container=t,this._type=i,this._id=s,this._selectors={newsletterFormId:"#NewsletterSectionForm",submitBtn:"[data-klaviyo-submit]"},this.newsletterForm=this._container.querySelector(this._selectors.newsletterFormId),this.submitBtn=this._container.querySelector(this._selectors.submitBtn),this.init()}init(){if(!this.newsletterForm||!this.submitBtn)return!1;new window.bluedgeusa.theme.KlaviyoSubscribe(this.newsletterForm,t=>{if(t){const i=document.querySelector("[data-warning-toast]"),s=this.newsletterForm.dataset.errorCopy;i&&(i.querySelector(".toast-body").innerHTML=s??t),window.bluedgeusa.theme.warning.show()}else this.showSuccessMessage()})}showSuccessMessage(){const t=this.newsletterForm.dataset.thankYou,i=this.submitBtn.dataset.originalCopy;this.submitBtn.disabled=!0,t&&(this.submitBtn.textContent=t);const s=setTimeout(()=>{this.submitBtn.textContent=i,this.submitBtn.disabled=!1,clearTimeout(s)},3e3)}},window.bluedgeusa.sections.register("newsletter",window.bluedgeusa.theme.Newsletter)}()}();