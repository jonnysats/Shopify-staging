!function(){var i={6229:function(){window.bluedgeusa.theme.RecipientForm=class{constructor(i,t,s){this._container=i,this._type=t,this._id=s,this.recipientFieldsLiveRegion=this._container.querySelector(`#Recipient-fields-live-region-${this._id}`),this.checkboxInput=this._container.querySelector(`#Recipient-checkbox-${this._id}`),this.hiddenControlField=this._container.querySelector(`#Recipient-control-${this._id}`),this.emailInput=this._container.querySelector(`#Recipient-email-${this._id}`),this.nameInput=this._container.querySelector(`#Recipient-name-${this._id}`),this.messageInput=this._container.querySelector(`#Recipient-message-${this._id}`),this.sendOnInput=this._container.querySelector(`#Recipient-send-on-${this._id}`),this.offsetProperty=this._container.querySelector(`#Recipient-timezone-offset-${this._id}`),this.errorMessageWrapper=this._container.querySelector(".product-form__recipient-error-message-wrapper"),this.errorMessageList=this.errorMessageWrapper?.querySelector("ul"),this.errorMessage=this.errorMessageWrapper?.querySelector(".error-message"),this.defaultErrorHeader=this.errorMessage?.innerText,this.currentProductVariantId=this._container.productVariantId,this.cartUpdateUnsubscriber=void 0,this.variantChangeUnsubscriber=void 0,this.cartErrorUnsubscriber=void 0,this.init()}init(){if(this.hiddenControlField&&(this.hiddenControlField.disabled=!0),this.checkboxInput&&(this.checkboxInput.disabled=!1),this.offsetProperty&&(this.offsetProperty.value=(new Date).getTimezoneOffset().toString()),this._container.addEventListener("change",this.onChange.bind(this)),this.onChange(),!this.sendOnInput)return;const i=(new Date).toISOString().slice(0,16);this.sendOnInput.min=i}onChange(){this.checkboxInput.checked?(this.enableInputFields(),this.recipientFieldsLiveRegion.innerText=window.accessibilityStrings.recipientFormExpanded):(this.clearInputFields(),this.disableInputFields(),this.clearErrorMessage(),this.recipientFieldsLiveRegion.innerText=window.accessibilityStrings.recipientFormCollapsed)}inputFields(){return[this.emailInput,this.nameInput,this.messageInput,this.sendOnInput]}disableableFields(){return[...this.inputFields(),this.offsetProperty]}clearInputFields(){this.inputFields().forEach(i=>i.value="")}enableInputFields(){this.disableableFields().forEach(i=>i.disabled=!1)}disableInputFields(){this.disableableFields().forEach(i=>i.disabled=!0)}displayErrorMessage(i,t){if(this.clearErrorMessage(),this.errorMessageWrapper.hidden=!1,"object"==typeof t)return this.errorMessage.innerText=this.defaultErrorHeader,Object.entries(t).forEach(([i,t])=>{const s=`RecipientForm-${i}-error-${this._id}`,e=`#Recipient-${i}-${this._id}`,h=`${t.join(", ")}`,r=this._container.querySelector(`#${s}`),n=r?.querySelector(".error-message");if(!n)return;this.errorMessageList&&this.errorMessageList.appendChild(this.createErrorListItem(e,h)),n.innerText=`${h}.`,r.classList.remove("hidden");const o=this[`${i}Input`];o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedby",s))});this.errorMessage.innerText=t}createErrorListItem(i,t){const s=document.createElement("li"),e=document.createElement("a");return e.setAttribute("href",i),e.innerText=t,s.className="error-message",s.appendChild(e),s}clearErrorMessage(){this.errorMessageWrapper.hidden=!0,this.errorMessageList&&(this.errorMessageList.innerHTML=""),this._container.querySelectorAll(".recipient-fields .form__message").forEach(i=>{i.classList.add("hidden");const t=i.querySelector(".error-message");t&&(t.innerText="")}),[this.emailInput,this.messageInput,this.nameInput,this.sendOnInput].forEach(i=>{i.setAttribute("aria-invalid",!1),i.removeAttribute("aria-describedby")})}resetRecipientForm(){this.checkboxInput?.checked&&(this.checkboxInput.checked=!1,this.clearInputFields(),this.clearErrorMessage())}}}},t={};function s(e){var h=t[e];if(void 0!==h)return h.exports;var r=t[e]={exports:{}};return i[e](r,r.exports,s),r.exports}s.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(t,{a:t}),t},s.d=function(i,t){for(var e in t)s.o(t,e)&&!s.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})},s.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},function(){"use strict";s(6229);window.bluedgeusa.sections.register("recipientForm",window.bluedgeusa.theme.RecipientForm)}()}();