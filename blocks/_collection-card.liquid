{%- if block.settings.collection != blank -%}
	<div class="col-12 col-lg-6">
		<div class="row card-wrapper collection-grid flex-column flex-lg-row">
			<div class="col-12 col-lg-5 collection-image image-wrapper position-relative pe-lg-1">
				<a href="{{ block.settings.collection.url }}" title="{{ block.settings.heading | default: block.settings.collection.title | escape }}">
					{%- if block.settings.image != blank -%}
						{%- render 'responsive-image', image: block.settings.image, image_class: 'img-fluid' -%}
					{%- else -%}
						{%- render 'responsive-image', image: block.settings.collection.featured_image, image_class: 'img-fluid' -%}
					{%- endif -%}
					{%- render 'tag-label',
						featured_tag: block.settings.collection.metafields.theme.featured_tag.value,
						wrapper_classes: 'tags-featured-wrapper position-absolute top-0'
					-%}
				</a>
			</div>
			<div class="col-12 col-lg-7 content-wrapper pe-lg-0">
				<h4 class="mt-4 mb-3 mt-lg-1">{{ block.settings.heading | default: block.settings.collection.title }}</h4>
				{%- render 'tag-label',
					product_count: block.settings.collection.products_count,
					wrapper_classes: 'products-count pb-2'
				-%}
				{%- if block.settings.copy != blank or block.settings.collection.description != blank -%}
					<div class="copy pt-1 pb-3 pt-lg-3">
						<p class="mb-0">{{- block.settings.copy | default: block.settings.collection.description | strip_html -}}</p>
					</div>
				{%- endif -%}
				{%- content_for 'blocks' -%}
			</div>
		</div>
	</div>
{%- endif -%}
{% schema %}
{
	"name": "Collection Card",
	"tag": null,
	"settings": [
		{
			"type": "collection",
			"id": "collection",
			"label": "Collection",
			"info": "Required for block to show"
		},
		{
			"type": "text",
			"id": "heading",
			"label": "Title"
		},
		{
			"type": "image_picker",
			"id": "image",
			"label": "Image",
			"info": "Display instead of collection image"
		},
		{
			"type": "richtext",
			"id": "copy",
			"label": "Copy"
		}
	],
	"blocks": [
		{
			"type": "_two-buttons"
		}
	],
	"presets": [
		{
			"name": "Collection Card"
		}
	]
}
{% endschema %}