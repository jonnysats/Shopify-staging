{%- if section.settings.heading != blank or section.settings.subheading != blank -%}
{%- liquid
	render 'section-padding', padding_amount_top: section.settings.padding_amount_top, padding_amount_bottom: section.settings.padding_amount_bottom
	comment
	  col mas width if not 3 on larges screens
	endcomment
	assign col_lg = ' col'
	if section.blocks.size < 2
		assign col_lg = ' col-lg-5'
	elsif section.blocks.size < 3
		assign col_lg = ' col-lg-4'
	endif
-%}
{{ 'reassurance-pack.css' | asset_url | stylesheet_tag }}
<div class="bg-color"{% if section.settings.bg_color != blank %} style="--bg-color: {{ section.settings.bg_color }};"{% endif %}>
	<div class="container pt-4 pb-4 pt-lg-6 pb-lg-6">
		<div class="row">
			<div class="col d-lg-flex{% if section.settings.subheading_below_title == true %} flex-column{% endif %} mb-5 pb-lg-3">
				{%- if section.settings.heading != blank -%}
					<h2 class="flex-grow-1"{% if section.settings.main_copy_color != blank %} style="--main-copy-color: {{ section.settings.main_copy_color }};"{% endif %}>{{ section.settings.heading }}</h2>
				{%- endif -%}
				{%- if section.settings.subheading != blank -%}
					<div class="header-copy">
						<p{% if section.settings.subheading_below_title == true %} class="mb-lg-0"{% endif %}{% if section.settings.main_copy_color != blank %} style="--main-copy-color: {{ section.settings.main_copy_color }};"{% endif %}>{{ section.settings.subheading }}</p>
					</div>
				{%- endif -%}
			</div>
		</div>
		{%- if section.blocks.size > 0 -%}
			<div class="row row-cols-1 row-cols-lg-{{ section.blocks.size }} gx-0 gy-custom gx-lg-custom justify-content-lg-center">
				{%- for block in section.blocks -%}
					<div class="flex-lg-column{{ col_lg }}" {{ block.shopify_attributes }}>
						<div class="block d-flex flex-wrap flex-lg-column">
							{%- if block.settings.image -%}
								{%- if block.settings.link_copy != blank and block.settings.url != blank -%}
									<a class="d-block w-100" href="{{ block.settings.url }}" title="{{ block.settings.link_copy | escape }}">
										{%- render 'responsive-image',
											image: block.settings.image,
											image_class: 'img-fluid' 
										-%}
									</a>
								{%- else -%}
									{%- render 'responsive-image',
										image: block.settings.image,
										image_class: 'img-fluid' 
									-%}
								{%- endif -%}
							{%- endif -%}
							<div class="inner-block d-flex flex-nowrap flex-grow-1 ps-4 pe-3 px-lg-4 pt-4 pb-3 pb-lg-4">
								{%- if block.settings.icon != blank -%}
								<div class="icon-wrapper pe-3">
									{%- render 'responsive-image',
										image: block.settings.icon,
										image_class: 'img-fluid' 
										preloader_icon: false
										lazyloading_style: 'eager'
									-%}
								</div>
								{%- endif -%}
								<div class="copy-wrapper d-flex flex-wrap">
									{%- if block.settings.heading != blank -%}
										<h3 class="mb-1">{{ block.settings.heading }}</h3>
									{%- endif -%}
									{%- if block.settings.subheading != blank -%}
										<p>{{ block.settings.subheading }}</p>
									{%- endif -%}
									{%- if block.settings.link_copy != blank and block.settings.url != blank -%}
										<a class="mt-auto" href="{{ block.settings.url }}" title="{{ block.settings.link_copy | escape }}">{{ block.settings.link_copy }}</a>
									{%- endif -%}
								</div>
							</div>
						</div>
					</div>
				{%- endfor -%}
			</div>
		{%- endif -%}
	</div>
</div>
{%- endif -%}
{% schema %}
{
	"name": "Reassurance Pack",
	"tag": "section",
	"class": "section-reassurance-pack",
	"settings": [
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
		{
			"type": "inline_richtext",
			"id": "subheading",
			"label": "Subheading"
		},
		{
			"type": "checkbox",
			"id": "subheading_below_title",
			"label": "Show Subheading below title?",
			"default": true
		},
		{
			"type": "color",
			"id": "bg_color",
			"label": "Background Color",
			"default": "#184A3E"
		},
		{
			"type": "color",
			"id": "main_copy_color",
			"label": "Main Copy Color",
			"default": "#ffffff"
		},
		{
			"type": "header",
			"content": "Section Settings"
		},
		{
			"type": "select",
			"id": "padding_amount_top",
			"label": "Top Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		},
		{
			"type": "select",
			"id": "padding_amount_bottom",
			"label": "Bottom Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		}
	],
	"blocks": [
		{
			"type": "claim",
			"name": "Claim",
			"limit": 4,
			"settings": [
				{
					"type": "image_picker",
					"id": "image",
					"label": "Image",
					"info": "Upload images 2 to 3 times the size for better display quality"
				},
				{
					"type": "header",
					"content": "Copy"
				},
				{
					"type": "image_picker",
					"id": "icon",
					"label": "Icon",
					"info": "Upload images 2 to 3 times the size for better display quality"
				},
				{
					"type": "text",
					"id": "heading",
					"label": "Heading"
				},
				{
					"type": "inline_richtext",
					"id": "subheading",
					"label": "Subheading"
				},
				{
					"type": "text",
					"id": "link_copy",
					"label": "Link Copy",
				},
				{
					"type": "url",
					"id": "url",
					"label": "Link"
				}
			]
		}
	],
	"presets": [
		{
			"name": "Reassurance Pack",
			"blocks": [
				{
					"type": "claim"
				}
			]
		}
	]
}
{% endschema %}