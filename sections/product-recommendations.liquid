{%- liquid
	assign alignment = section.settings.alignment
	if section.settings.alignment == 'left'
		assign alignment = 'start'
	elsif section.settings.alignment == 'right'
		assign alignment = 'end'
	endif
	render 'section-padding', padding_amount_top: section.settings.padding_amount_top, padding_amount_bottom: section.settings.padding_amount_bottom
-%}
<div id="product-recommendations" class="product-recommendations pb-1" data-product-id="{{ product.id }}" data-section-type="productRecommendations" data-limit="4">
	<div class="container text-{{ alignment }} mt-5">
		{%- if section.settings.heading != blank -%}
			<h3 class="header mb-5">{{ section.settings.heading }}</h3>
		{%- endif -%}
		<div data-product-grid>
		{%- if recommendations.performed and recommendations.products_count > 0 -%}
			<div class="row">
				{%- for recommendation in recommendations.products -%}
					{%- render 'product-grid', product: recommendation, classes: 'px-3', col_sm: 2, col_md: 3, col_lg: 4 -%}
				{%- endfor -%}
			</div>
		{%- endif -%}
		</div>
	</div>
</div>
{% schema %}
{
  "name": "Product Recommendations",
  "class": "section-product-recommendations",
  "tag": "section",
  "settings": [
	{
		"type": "text_alignment",
		"id": "alignment",
		"label": "Header alignment",
		"default": "center"
	},
	{
	  "type": "text",
	  "id": "heading",
	  "label": "Header Text",
	  "default": "Recommended for you"
	},
	{
		"type": "header",
		"content": "Section Settings"
	},
	{
		"type": "select",
		"id": "padding_amount_top",
		"label": "Top Section Padding",
		"options": [
			{
				"value": "no",
				"label": "None"
			},
			{
				"value": "small",
				"label": "Small"
			},
			{
				"value": "default",
				"label": "Medium (Default)"
			},
			{
				"value": "large",
				"label": "Large"
			},
			{
				"value": "xlarge",
				"label": "Extra Large"
			}
		],
		"default": "default"
	},
	{
		"type": "select",
		"id": "padding_amount_bottom",
		"label": "Bottom Section Padding",
		"options": [
			{
				"value": "no",
				"label": "None"
			},
			{
				"value": "small",
				"label": "Small"
			},
			{
				"value": "default",
				"label": "Medium (Default)"
			},
			{
				"value": "large",
				"label": "Large"
			},
			{
				"value": "xlarge",
				"label": "Extra Large"
			}
		],
		"default": "default"
	}
  ],
  "enabled_on": {
	"templates": ["product"]
  }
}
{% endschema %}