{%- liquid
	render 'section-padding', padding_amount_top: section.settings.padding_amount_top, padding_amount_bottom: section.settings.padding_amount_bottom
	assign lazyload_style = 'lazy'
	comment
	  Check is this is the first section on the page
	endcomment
	assign is_first_section = false
	if section.index == 1
		assign is_first_section = true

		comment
			If first section load image eager
		endcomment
		assign lazyload_style = 'eager'
	endif

	comment
	  Transform Shopify Text Alignment to BT code (start|center|end)
	endcomment
	assign text_alignment_desktop = section.settings.text_alignment_desktop | replace: 'left', 'start' | replace: 'right', 'end'
	assign text_alignment_mobile = section.settings.text_alignment_mobile | replace: 'left', 'start' | replace: 'right', 'end'

	comment
	  Prep the code for the overlay
	endcomment
	if section.settings.overlay_option == 'gradient'
		assign overlay_color = section.settings.overlay_gradient
	else
		assign overlay_color = section.settings.overlay_color
	endif
-%}
{%- if section.settings.image != blank -%}
	{{ 'hero.css' | asset_url | stylesheet_tag: preload: is_first_section }}
	<style>
		#shopify-section-{{ section.id }} { min-height: calc({{ section.settings.height_mobile }} - var(--header-height)); }
		@media (min-width: 768px) {
			#shopify-section-{{ section.id }} { min-height: {% if section.settings.height == '100vh' %}calc({{ section.settings.height }} - var(--header-height)){% else %}{{ section.settings.height }}{% endif %}; }
		}
		{%- if section.settings.height_mobile != 'auto' and section.settings.height_mobile != '100vh' -%}
			@media (max-width: 768px) {
				#shopify-section-{{ section.id }} .hero { min-height: {{ section.settings.height_mobile }}; }
			}
		{%- endif -%}
		{%- if section.settings.height != 'auto' and section.settings.height != '100vh' -%}
			@media (min-width: 768px) {
				#shopify-section-{{ section.id }} .hero { min-height: {{ section.settings.height }}; }
			}
		{%- endif -%}
	</style>
	<div class="hero position-relative" style="--heading-color: {{ section.settings.heading_color }}; --subheading-color: {{ section.settings.subheading_color }}; --copy-color: {{ section.settings.copy_color }};">
		{%- render 'hero-inner-section',
			is_first_section: is_first_section,
			lazyloading_style: lazyload_style,
			show_overlay: section.settings.show_overlay,
			overlay_color: overlay_color, 
			overlay_opacity: section.settings.overlay_opacity,
			image: section.settings.image,
			image_mobile: section.settings.image_mobile,
			heading: section.settings.heading,
			subheading: section.settings.subheading,
			copy: section.settings.copy,
			button_copy_1: section.settings.button_copy_1,
			button_url_1: section.settings.button_url_1,
			button_copy_2: section.settings.button_copy_2,
			button_url_2: section.settings.button_url_2,
			vertical_alignment_desktop: section.settings.vertical_alignment_desktop,
			vertical_alignment_mobile: section.settings.vertical_alignment_mobile,
			horizontal_alignment_desktop: section.settings.horizontal_alignment_desktop,
			horizontal_alignment_mobile: section.settings.horizontal_alignment_mobile,
			text_alignment_desktop: text_alignment_desktop,
			text_alignment_mobile: text_alignment_mobile
		-%}
	</div>
{%- endif -%}
{% schema %}
{
  "name": "Hero",
  "class": "section-hero hero",
  "tag": "section",
  "settings": [
	{
		"type": "header",
		"content": "Hero Heights"
	},
	{
		"type": "select",
		"id": "height",
		"label": "Hero Height",
		"options": [
			{
				"value": "500px",
				"label": "500px"
			},
			{
				"value": "800px",
				"label": "800px"
			},
			{
				"value": "100vh",
				"label": "Full Height"
			},
			{
				"value": "auto",
				"label": "Natural"
			}
		],
		"default": "800px"
	},
	{
		"type": "select",
		"id": "height_mobile",
		"label": "Hero Height (mobile)",
		"options": [
			{
				"value": "500px",
				"label": "500px"
			},
			{
				"value": "100vh",
				"label": "Full Height"
			},
			{
				"value": "auto",
				"label": "Natural"
			}
		],
		"default": "500px"
	},
	{
		"type": "header",
		"content": "Overlay"
	},
	{
		"type": "checkbox",
		"id": "show_overlay",
		"label": "Show Overlay?"
	},
	{
		"type": "select",
		"id": "overlay_option",
		"label": "Overlay Options",
		"options": [
			{
				"value": "gradient",
				"label": "Gradient"
			},
			{
				"value": "color",
				"label": "Single Color"
			}
		],
		"default": "gradient"
	},
	{
		"type": "color_background",
		"id": "overlay_gradient",
		"label": "Overlay Gradient",
		"default": "linear-gradient(180deg, rgba(0, 0, 0, 0) 35%, rgba(0, 0, 0, 0.8) 100%)"
	},
	{
	  "type": "color",
	  "id": "overlay_color",
	  "label": "Hero Overlay Color",
	  "default": "#000000"
	},
	{
	  "type": "range",
	  "id": "overlay_opacity",
	  "min": 0,
	  "max": 100,
	  "step": 10,
	  "unit": "%",
	  "label": "Opacity",
	  "default": 20
	},
	{
		"type": "header",
		"content": "Image",
	},
	{
		"type": "image_picker",
		"id": "image",
		"label": "Image"
	},
	{
		"type": "image_picker",
		"id": "image_mobile",
		"label": "Mobile Image",
		"info": "Optional"
	},
	{
		"type": "header",
		"content": "Copy",
	},
	{
		"type": "text",
		"id": "heading",
		"label": "Heading"
	},
	{
		"type": "color",
		"id": "heading_color",
		"label": "Heading Text Color",
		"default": "#fff"
	},
	{
		"type": "inline_richtext",
		"id": "subheading",
		"label": "Subheading"
	},
	{
		"type": "color",
		"id": "subheading_color",
		"label": "Subheading Text Color",
		"default": "#fff"
	},
	{
		"type": "inline_richtext",
		"id": "copy",
		"label": "Copy"
	},
	{
		"type": "color",
		"id": "copy_color",
		"label": "Copy Color",
		"default": "#fff"
	},
	{
		"type": "text",
		"id": "button_copy_1",
		"label": "Primary Button"
	},
	{
		"type": "url",
		"id": "button_url_1",
		"label": "Primary Link"
	},
	{
		"type": "text",
		"id": "button_copy_2",
		"label": "Secondary Button"
	},
	{
		"type": "url",
		"id": "button_url_2",
		"label": "Secondary Link"
	},
	{
		"type": "header",
		"content": "Desktop Alignment"
	},
	{
		"type": "select",
		"id": "vertical_alignment_desktop",
		"label": "Vertical Alignment",
		"options": [
			{
				"value": "start",
				"label": "Top"
			},
			{
				"value": "center",
				"label": "Center"
			},
			{
				"value": "end",
				"label": "Bottom"
			}
		],
		"default": "end"
	},
	{
		"type": "select",
		"id": "horizontal_alignment_desktop",
		"label": "Horizontal Alignment",
		"options": [
			{
				"value": "start",
				"label": "Left"
			},
			{
				"value": "center",
				"label": "Center"
			},
			{
				"value": "end",
				"label": "Right"
			}
		],
		"default": "start"
	},
	{
		"type": "text_alignment",
		"id": "text_alignment_desktop",
		"label": "Text Alignment",
		"default": "left"
	},
	{
		"type": "header",
		"content": "Mobile Alignment"
	},
	{
		"type": "select",
		"id": "vertical_alignment_mobile",
		"label": "Vertical Alignment (Mobile)",
		"options": [
			{
				"value": "start",
				"label": "Top"
			},
			{
				"value": "center",
				"label": "Center"
			},
			{
				"value": "end",
				"label": "Bottom"
			}
		],
		"default": "center"
	},
	{
		"type": "select",
		"id": "horizontal_alignment_mobile",
		"label": "Horizontal Alignment (Mobile)",
		"options": [
			{
				"value": "start",
				"label": "Left"
			},
			{
				"value": "center",
				"label": "Center"
			},
			{
				"value": "end",
				"label": "Right"
			}
		],
		"default": "center"
	},
	{
		"type": "text_alignment",
		"id": "text_alignment_mobile",
		"label": "Text Alignment (Mobile)",
		"default": "center"
	},
	{
		"type": "header",
		"content": "Section Settings"
	},
	{
		"type": "select",
		"id": "padding_amount_top",
		"label": "Top Section Padding",
		"options": [
			{
				"value": "no",
				"label": "None"
			},
			{
				"value": "small",
				"label": "Small"
			},
			{
				"value": "default",
				"label": "Medium (Default)"
			},
			{
				"value": "large",
				"label": "Large"
			},
			{
				"value": "xlarge",
				"label": "Extra Large"
			}
		],
		"default": "no"
	},
	{
		"type": "select",
		"id": "padding_amount_bottom",
		"label": "Bottom Section Padding",
		"options": [
			{
				"value": "no",
				"label": "None"
			},
			{
				"value": "small",
				"label": "Small"
			},
			{
				"value": "default",
				"label": "Medium (Default)"
			},
			{
				"value": "large",
				"label": "Large"
			},
			{
				"value": "xlarge",
				"label": "Extra Large"
			}
		],
		"default": "default"
	}
  ],
  "presets": [
		{
			"name": "Hero"
		}
  ]
}
{% endschema %}