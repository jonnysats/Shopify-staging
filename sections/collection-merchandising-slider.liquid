{%- liquid
	render 'section-padding', padding_amount_top: section.settings.padding_amount_top, padding_amount_bottom: section.settings.padding_amount_bottom
	assign flickity_arrows = false
	assign flickity_dots = false
	assign flickity_loop = false 
	assign flickity_group_cells = true
	assign flickity_adaptive_height = false
	assign collection = section.settings.collection
-%}
{%- if section.settings.collection != blank -%}
{{ 'product-slider-overflow.css' | asset_url | stylesheet_tag: preload: true }}
<script src="{{ 'featured-collection-slider.js' | asset_url }}" defer crossorigin="anonymous"></script>
<div class="product-grid product-grid-overflow product-slider" data-section-id="{{ section.id }}" data-section-type="featuredCollectionSlider">
	{%- if section.settings.heading != blank or section.settings.subheading != blank -%}
		<div class="container">
			<div class="row">
				<div class="col col-lg-5 pb-3 pb-lg-4 mb-lg-1">
					{%- if section.settings.heading != blank %}
						<h2 class="header px-1 px-lg-0 pb-1">{{ section.settings.heading }}</h2>
					{%- endif -%}
					{%- if section.settings.subheading != blank %}
						<p class="sub-header px-1 px-lg-0 pe-3 pe-lg-6">{{ section.settings.subheading }}</p>
					{%- endif -%}
				</div>
				<div class="col-7 d-none d-lg-block">
					{%- render 'slider-custom-nav-buttons', justify_style: "end" -%}
				</div>
			</div>
		</div>
	{%- endif -%}
	<div class="featured-collection-slider-container container-fluid">
		<div class="special-margin">
			<div class="row gx-0 w-100 h-100" data-generic-slider data-arrows="{{ flickity_arrows }}" data-dots="{{ flickity_dots }}" data-loop="{{ flickity_loop }}" data-adaptive-height="{{ flickity_adaptive_height }}" data-group-cells="{{ flickity_group_cells }}">
				{%- liquid
					for product in collection.products limit: section.settings.number_of_products
						assign product_grid_classes = "pe-3 pe-md-4 pe-lg-custom col-custom col-6 col-md-4 col-lg-3 col-lg-custom"
						render 'product-grid', product: product, classes: product_grid_classes, col_sm: 2, col_md: 3, col_lg: 4, show_description: section.settings.show_description, show_swatches: section.settings.show_swatches
					endfor
				-%}
			</div>
		</div>
	</div>
	<div class="container d-block d-lg-none mt-4">
		<div class="row">
			<div class="col">
				{%- render 'slider-custom-nav-buttons', justify_style: "between" -%}
			</div>
		</div>
	</div>
</div>
{%- endif -%}
{% schema %}
{
	"name": "Collection Slider",
	"tag": "section",
	"class": "section-collection-merchandising-slider",
	"settings": [
		{
			"type": "header",
			"content": "Content",
		},
		{
			"type": "text",
			"id": "heading",
			"label": "Header"
		},
		{
			"type": "inline_richtext",
			"id": "subheading",
			"label": "Subheader"
		},
		{
			"type": "header",
			"content": "Collection",
		},
		{
			"type": "collection",
			"id": "collection",
			"label": "Select a collection"
		},
		{
			"type": "checkbox",
			"id": "show_description",
			"default": true,
			"label": "Show description"
		},
		{
			"type": "checkbox",
			"id": "show_swatches",
			"default": true,
			"label": "Show swatches"
		},
		{
			"type": "range",
			"id": "number_of_products",
			"min": 6,
			"max": 24,
			"step": 3,
			"default": 24,
			"label": "Products Per Slider"
		},
		{
			"type": "header",
			"content": "Section Settings"
		},
		{
			"type": "select",
			"id": "padding_amount_top",
			"label": "Top Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		},
		{
			"type": "select",
			"id": "padding_amount_bottom",
			"label": "Bottom Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		}
	],
	"presets": [
		{
			"name": "Collection Slider"
		}
	]
}
{% endschema %}