{%- if section.settings.heading != blank and section.settings.image != blank -%}
	{{ 'hero.css' | asset_url | stylesheet_tag }}
	<style>
		#shopify-section-{{ section.id }} .hero { height: 600px; }
		#shopify-section-{{ section.id }} .hero > div { width: 100%; }
		#shopify-section-{{ section.id }} .hero .copy-wrapper { max-width: 465px; }
		@media (min-width: 768px) {
			#shopify-section-{{ section.id }} .hero { height: 630px; }
			#shopify-section-{{ section.id }} .hero h2:nth-child(1) { font-size: 4rem; }
			#shopify-section-{{ section.id }} .hero h2:nth-child(2) { font-size: 1.25rem; }
		}
	</style>
	{%- liquid
		render 'section-padding', padding_amount_top: section.settings.padding_amount_top, padding_amount_bottom: section.settings.padding_amount_bottom
		assign lazyload_style = 'lazy'
		comment
		  Check is this is the first section on the page
		endcomment
		assign is_first_section = false
		if section.index == 1
			assign is_first_section = true

			comment
				If first section load image eager
			endcomment
			assign lazyload_style = 'eager'
		endif

		comment
		  Transform Shopify Text Alignment to BT code (start|center|end)
		endcomment
		assign text_alignment_desktop = section.settings.text_alignment_desktop | replace: 'left', 'start' | replace: 'right', 'end'
		assign text_alignment_mobile = section.settings.text_alignment_mobile | replace: 'left', 'start' | replace: 'right', 'end'
	
		comment
		  Prep the code for the overlay
		endcomment
		if section.settings.overlay_option == 'gradient'
			assign overlay_color = section.settings.overlay_gradient
		else
			assign overlay_color = section.settings.overlay_color
		endif
	-%}
	<div class="container-lg gx-0 overflow-hidden">
		<div class="row">
			<div class="col-12 d-flex hero position-relative">
				{%- render 'hero-inner-section',
					is_first_section: is_first_section,
					show_overlay: section.settings.show_overlay,
					overlay_color: overlay_color, 
					overlay_opacity: section.settings.overlay_opacity,
					image: section.settings.image,
					image_mobile: section.settings.image_mobile,
					heading: section.settings.heading,
					subheading: section.settings.subheading,
					copy: section.settings.copy,
					button_copy_1: section.settings.button_copy_1,
					button_url_1: section.settings.button_url_1,
					vertical_alignment_desktop: section.settings.vertical_alignment_desktop,
					vertical_alignment_mobile: section.settings.vertical_alignment_mobile,
					horizontal_alignment_desktop: section.settings.horizontal_alignment_desktop,
					horizontal_alignment_mobile: section.settings.horizontal_alignment_mobile,
					text_alignment_desktop: text_alignment_desktop,
					text_alignment_mobile: text_alignment_mobile,
					featured_product: section.settings.featured_product,
					featured_product_short_name: section.settings.product_short_name,
					lazyloading_style: lazyload_style
				-%}
			</div>
		</div>
	</div>
{%- endif -%}

{% schema %}
{
	"name": "Need Help?",
	"class": "section-need-help text-center",
	"tag": "section",
	"settings": [
		{
			"type": "header",
			"content": "Image Options"
		},
		{
			"type": "image_picker",
			"id": "image",
			"label": "Background Image"
		},
		{
			"type": "image_picker",
			"id": "image_mobile",
			"label": "Mobile Background Image"
		},
		{
			"type": "header",
			"content": "Overlay"
		},
		{
			"type": "checkbox",
			"id": "show_overlay",
			"label": "Show Overlay?"
		},
		{
			"type": "select",
			"id": "overlay_option",
			"label": "Overlay Options",
			"options": [
				{
					"value": "gradient",
					"label": "Gradient"
				},
				{
					"value": "color",
					"label": "Single Color"
				}
			],
			"default": "gradient"
		},
		{
			"type": "color_background",
			"id": "overlay_gradient",
			"label": "Overlay Gradient",
			"default": "linear-gradient(180deg, rgba(0, 0, 0, 0) 35%, rgba(0, 0, 0, 0.8) 100%)"
		},
		{
		  "type": "color",
		  "id": "overlay_color",
		  "label": "Hero Overlay Color",
		  "default": "#000000"
		},
		{
		  "type": "range",
		  "id": "overlay_opacity",
		  "min": 0,
		  "max": 100,
		  "step": 10,
		  "unit": "%",
		  "label": "Opacity",
		  "default": 20
		},
		{
			"type": "header",
			"content": "Copy",
		},
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
		{
			"type": "inline_richtext",
			"id": "subheading",
			"label": "Subheading"
		},
		{
			"type": "inline_richtext",
			"id": "copy",
			"label": "Copy"
		},
		{
			"type": "text",
			"id": "button_copy_1",
			"label": "Primary Button"
		},
		{
			"type": "url",
			"id": "button_url_1",
			"label": "Primary Link"
		},
		{
			"type": "header",
			"content": "Desktop Alignment"
		},
		{
			"type": "select",
			"id": "vertical_alignment_desktop",
			"label": "Vertical Alignment",
			"options": [
				{
					"value": "start",
					"label": "Top"
				},
				{
					"value": "center",
					"label": "Center"
				},
				{
					"value": "end",
					"label": "Bottom"
				}
			],
			"default": "center"
		},
		{
			"type": "select",
			"id": "horizontal_alignment_desktop",
			"label": "Horizontal Alignment",
			"options": [
				{
					"value": "start",
					"label": "Left"
				},
				{
					"value": "center",
					"label": "Center"
				},
				{
					"value": "end",
					"label": "Right"
				}
			],
			"default": "center"
		},
		{
			"type": "text_alignment",
			"id": "text_alignment_desktop",
			"label": "Text Alignment",
			"default": "center"
		},
		{
			"type": "header",
			"content": "Mobile Alignment"
		},
		{
			"type": "select",
			"id": "vertical_alignment_mobile",
			"label": "Vertical Alignment (Mobile)",
			"options": [
				{
					"value": "start",
					"label": "Top"
				},
				{
					"value": "center",
					"label": "Center"
				},
				{
					"value": "end",
					"label": "Bottom"
				}
			],
			"default": "center"
		},
		{
			"type": "select",
			"id": "horizontal_alignment_mobile",
			"label": "Horizontal Alignment (Mobile)",
			"options": [
				{
					"value": "start",
					"label": "Left"
				},
				{
					"value": "center",
					"label": "Center"
				},
				{
					"value": "end",
					"label": "Right"
				}
			],
			"default": "center"
		},
		{
			"type": "text_alignment",
			"id": "text_alignment_mobile",
			"label": "Text Alignment (Mobile)",
			"default": "center"
		},
		{
			"type": "header",
			"content": "Section Settings"
		},
		{
			"type": "select",
			"id": "padding_amount_top",
			"label": "Top Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		},
		{
			"type": "select",
			"id": "padding_amount_bottom",
			"label": "Bottom Section Padding",
			"options": [
				{
					"value": "no",
					"label": "None"
				},
				{
					"value": "small",
					"label": "Small"
				},
				{
					"value": "default",
					"label": "Medium (Default)"
				},
				{
					"value": "large",
					"label": "Large"
				},
				{
					"value": "xlarge",
					"label": "Extra Large"
				}
			],
			"default": "default"
		}
	],
	"presets": [
		{
			"name": "Need help?"
		}
	]
}
{% endschema %}